(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAfpAAAH6QGUejxAAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAmFQTFRF////46oc/8Y55rMa/8wz6qoV/78r/78w/8or2KcU0KEU2KMa06IU+sQu054S+8Yv3KYW5bAX/Mcs464Z/Mct5K8Y/Mct2qYW4qwW5K8Y/ccu16ET16MV2qQX/ccu468Y+8Uu4q0Y5K4Z+8Us5a4Y+8ct3qkW/MUs2KQU2qQW5K8Y/MYt26UV5K8Y/Mcs5rEZ7rgh6bMb26YW57Eb1qEU98Eo5rIa5K8Y/cYt5LAa1Z8U5K4Y/cYt6bQc67Qf6LMd67Uf8Lkk4KsY5bAZ7LYi460a5K8Y5K8c/MYt/MYt9sAn460b/MYu36oZ4KoW3agW8rwl9cAn7bgi/MYt9L8m8r0l/MYt5K8Y/MYt5bAY058U3agX4KwX054U2qUW3qgW/MYt+cMr+sQr1aEU16MU5K8Y/MYt1qAU5K8Y+MIp/MYt2qUV26UV0p0T1KAU26YV5K8Y/MYtzpkSz5oT0JsT0ZsT0ZwT0ZwU0p0T054V1J8U1J8V1aAU1aAW1qEX2KMV2KMY2aQY2aQZ2qUV26UZ26Ya3KYa3Kca3agb3qkW36oX4asd4awX4q0e5K8Y5rEg57Ih6bMi6bQi6rQi67Uj7Lck7bck7rgl8bsn8bwn8rwn870o9L4o9b8p9sAq98Eq+MIr+cMq+cMr+sQs+8Us+8Ut/MYt/MYu/Mcu/Mcv/Mgv/Mgw/Mgx/Mkx/coy/coz/cs0/cs1/cw2/c03/c04/c44/c45/c86/tA7/tA8/tE9/tE+/tI+/tI//tNA/tNB/tRB/tRC/tVD/tVE/tZE/9ZE/9ZF/9dG/9hI/9lI/9lJ15RiUgAAAHJ0Uk5TAAkJCgoMDBAYGiYnNDg6R1BXV1tbYGBnaWlpbXp7e4CAgoWFiIiVlpelqamqrKzAwsPGx8nKzM3Nz9DR0dLU1tbX2Nja29zc3N3e4ODi4+Tl5ujp8PHx8vL09vb29/f39/j4+/v7+/z8/Pz9/f7+/v7+56Lg/wAAAktJREFUOMt9k1dbk0EUhI8Fxd6wN6xYsXfsvYu9d+z1I0aIQiIRMRo3ihEUEcGENwkRAigiVVQU9Vd5kS+Q4CNztztzdmf3zBEJodOAaYtmzV6w+eSexdMHdpb26DHjiG3JFkI4OKlrJD/0mDFlK+HY1i+cH3xBJe0CPCVQ21wKwKUhbfyU69YTiYC3pRH8lRCo98PNESG+/zWTaR0A5fr5voZK4FyfIB+1Qanl4KujPTZ1ExGR8UolXYSaxkj2SwAmiIj00jRtO+AD8h0Oh8PxNNcFVNfD/u4iMs5uP3par8rJumXJyso0pObpG2NEZI3dPg+qq4M76bmA68kdd3CZINJX07SN8LUiTEBh8mugoQKiZZBSai94CRe4b78Caj5DjEy22R4VtXkPCpwGF4AXYmWp0XgeAoGQ4HF29rNMLSdUECczlVoLdTUhQXpGRka69tAF8AHiZa7VuhPKSiOuePMgE/D/8RIv802ms60Oit3pOe5iIC/ZDXyCOBmrlCrSX1GcpmmaluoGDPpXxcpos9m8j5IWL8C7grTnBYXAS+0teIAY6W02m1fAd3+4h/z794AfZRAtskypOSEPToshzWKxpGmWAvD99JIgIlNNpjOndEGB0+l0Op0v8glrVs/jVutKKPvmjcyDB73docA0BSL4il/ogZGoHTbb+n/iVlXZGjkZedWYshrwNOk9572PsNCKDL+hDiUCVbVQVg7lvz8SHnuRYVesl3cHi+ub/Xj87QZHZNRh091VHYyeSJeJB9TCDob3/+P/F1NM2itKLlc5AAAAAElFTkSuQmCC"},102:function(e,t,a){e.exports=a(254)},107:function(e,t,a){},108:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(54),l=a.n(r),s=(a(58),a(9)),i=a(11),o=a(17),u=a(18),m=a(21),h=a(19),d=a(15),p=a(20),g=(a(107),function(e){var t=e.height,a=e.width;return c.a.createElement("div",{className:"loading",style:{height:t,width:a}})});g.defaultProps={width:"30px",height:"30px"};var E=g,f="https://api.udilia.com/coins/v1",b=function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})},A=function(e){return e>0?c.a.createElement("span",{className:"percent-raised"},e,"% \u2191"):e<0?c.a.createElement("span",{className:"percent-fallen"},e,"% \u2193"):c.a.createElement("span",null,e)},v=(a(108),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={loading:!1,searchTerm:"",searchResult:[]},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleRedirect=e.handleRedirect.bind(Object(d.a)(e)),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleRedirect",value:function(e){this.setState(function(){return{searchTerm:"",searchResult:[]}}),this.props.history.push("/currency/".concat(e))}},{key:"handleChange",value:function(e){var t=this,a=e.target.value;if(console.log("input",a),this.setState(function(){return{searchTerm:a}}),!a)return"";this.setState(function(){return{loading:!0}}),fetch("".concat(f,"/autocomplete?searchQuery=").concat(a)).then(b).then(function(e){console.log("Success searchTerm",e),t.setState(function(){return{loading:!1,searchResult:e}})}).catch(function(e){console.log("Error",e)}),console.log("state",this.state)}},{key:"renderSearchResults",value:function(){var e=this,t=this.state,a=t.searchResult;return t.searchTerm?a.length>0?c.a.createElement("div",{className:"search-result-container"},a.map(function(t){return c.a.createElement("div",{key:t.id,className:"search-result",onClick:function(){return e.handleRedirect(t.id)}},t.name,"(",t.symbol,")")})):c.a.createElement("div",{className:"search-result-container"},c.a.createElement("div",{className:"search-no-result"},"No results found.")):""}},{key:"render",value:function(){return c.a.createElement("div",{className:"search-container"},c.a.createElement("span",{className:"search-icon"}," ",c.a.createElement("ion-icon",{name:"search"})," "),c.a.createElement("input",{className:"search-input",type:"text",placeholder:"Currency name",value:this.state.searchTerm,onChange:this.handleChange}),this.state.loading&&c.a.createElement("div",{className:"search-loading"},c.a.createElement(E,{width:"12px",height:"12px"})),this.renderSearchResults())}}]),t}(c.a.Component)),N=Object(i.f)(v),k=(a(113),a(101)),y=a.n(k);var C=function(){return c.a.createElement("header",null,c.a.createElement(s.b,{to:"/",className:"header-logo"},c.a.createElement("img",{src:y.a,alt:"bitcoin_logo",className:"bitcoin-logo"}),c.a.createElement("div",{className:"header-title"},"CoinTracker")),c.a.createElement(N,null))},Y=(a(114),Object(i.f)(function(e){return c.a.createElement("div",{className:"table-container"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",{className:"table-head"},c.a.createElement("tr",null,c.a.createElement("th",null,"Rank"),c.a.createElement("th",null,"Crypto currency"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Market Cap"),c.a.createElement("th",null,"24Hr Change"))),c.a.createElement("tbody",{className:"table-body"},e.currencies.map(function(t){return c.a.createElement("tr",{className:"table-body-row",key:t.id,onClick:function(){return e.history.push("/currency/".concat(t.id))}},c.a.createElement("td",{className:"table-rank"},t.rank),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("span",{className:"table-dollar"},"$"),t.price),c.a.createElement("td",null,c.a.createElement("span",{className:"table-market"},"$"),t.marketCap),c.a.createElement("td",null,A(t.percentChange24h)))}))))})),M=(a(115),function(e){return c.a.createElement("div",{className:"pagination"},c.a.createElement("button",{className:"pagination-button",onClick:function(){return e.handlePaginationClick("prev")},disabled:e.page<=1},"\u2190"),c.a.createElement("span",{className:"pagination-info"},c.a.createElement("b",null,e.page)," of ",c.a.createElement("b",null,e.totalPages)),c.a.createElement("button",{className:"pagination-button",onClick:function(){return e.handlePaginationClick("next")},disabled:e.page>=e.totalPages},"\u2192"))}),U=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={loading:!1,currencies:[],error:null,totalPages:0,page:1},e.handlePaginationClick=e.handlePaginationClick.bind(Object(d.a)(e)),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchCurrencies()}},{key:"fetchCurrencies",value:function(){var e=this;this.setState(function(){return{loading:!0}});var t=this.state.page;fetch("".concat(f,"/cryptocurrencies?page=").concat(t,"&perPage=20")).then(b).then(function(t){console.log(t),e.setState(function(){return{currencies:t.currencies,loading:!1,totalPages:t.totalPages}})}).catch(function(t){e.setState(function(){return{error:t.errorMessage,loading:!1}}),console.log("Error",t)})}},{key:"handlePaginationClick",value:function(e){var t=this,a=this.state.page;a="next"===e?a+1:a-1,this.setState({page:a},function(){t.fetchCurrencies()})}},{key:"render",value:function(){return this.state.loading?c.a.createElement(E,null):this.state.error?c.a.createElement("div",{className:"error"},this.state.error):c.a.createElement("div",null,c.a.createElement(Y,{currencies:this.state.currencies}),c.a.createElement(M,{handlePaginationClick:this.handlePaginationClick,page:this.state.page,totalPages:this.state.totalPages}))}}]),t}(c.a.Component),K=(a(116),function(){return c.a.createElement("div",{className:"notfound"},c.a.createElement("h1",{className:"notfount-title"},"Oops! Page not found"),c.a.createElement(s.b,{to:"/",className:"notfound-link"},"Go to homepage"))}),w=(a(117),a(118),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={currency:{},loading:!1,error:null},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("didmount");var e=this.props.match.params.id;this.fetchCurrency(e)}},{key:"componentWillReceiveProps",value:function(e){if(console.log("didupdate"),this.props.location.pathname!==e.location.pathname){console.log("if state working",this.props.location.pathname);var t=e.match.params.id;this.fetchCurrency(t)}}},{key:"fetchCurrency",value:function(e){var t=this;fetch("".concat(f,"/cryptocurrencies/").concat(e)).then(b).then(function(e){console.log("currency",e),t.setState(function(){return{currency:e,loading:!1,error:null}})}).catch(function(e){console.log("error",e),t.setState(function(){return{loading:!1,error:e.errorMessage}})})}},{key:"render",value:function(){return console.log("currency",this.state.currency),this.state.loading?c.a.createElement("div",{className:"loading-container"},c.a.createElement(E,null)):this.state.error?c.a.createElement("div",{className:"error"},this.state.error):c.a.createElement("div",{className:"detail"},c.a.createElement("div",{className:"detail-heading-container"},c.a.createElement(s.b,{to:"/",className:"back-page"},c.a.createElement("ion-icon",{name:"arrow-round-back"})),c.a.createElement("h1",{className:"detail-heading"},this.state.currency.name,"(",this.state.currency.symbol,")")),c.a.createElement("div",{className:"detail-container"},c.a.createElement("div",{className:"detail-item"},"Price"," ",c.a.createElement("span",{className:"detail-value"},"$",this.state.currency.price)),c.a.createElement("div",{className:"detail-item"},"Rank"," ",c.a.createElement("span",{className:"detail-value"},this.state.currency.rank)),c.a.createElement("div",{className:"detail-item"},"24H change"," ",c.a.createElement("span",{className:"detail-value"},"$",A(this.state.currency.percentChange24h))),c.a.createElement("div",{className:"detail-item"},c.a.createElement("span",{className:"detail-title"},"Market cap"),c.a.createElement("span",{className:"detail-dollar"},"$"),this.state.currency.marketCap),c.a.createElement("div",{className:"detail-item"},c.a.createElement("span",{className:"detail-title"},"Total supply"),c.a.createElement("span",{className:"detail-dollar"},"$"),this.state.currency.totalSupply),c.a.createElement("div",{className:"detail-item"},c.a.createElement("span",{className:"detail-title"},"volume24h"),c.a.createElement("span",{className:"detail-dollar"},"$"),this.state.currency.volume24h)))}}]),t}(c.a.Component));var j=function(){return c.a.createElement(s.a,null,c.a.createElement("div",null,c.a.createElement(C,null),c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/",component:U,exact:!0}),c.a.createElement(i.a,{path:"/currency/:id",component:w,exact:!0}),c.a.createElement(i.a,{component:K}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.0a11d7e4.chunk.js.map